{% extends "base.html.jinja" %}
{% set show_header = true %}

{% block page_title %}Ingredients | Zestify{% endblock %}

{% block extra_styles %}
    <link rel="stylesheet" href="{{ url_for('static', path='/css/ingredients.css') }}">
{% endblock %}

{% block header_title %}Ingredients{% endblock %}

{% block content %}
<div class="main-container">
    {% if error %}
        <div class="error-message">{{ error }}</div>
    {% endif %}

    <div class="form-container">
        <form action="/ingredients" method="post" id="recipeForm">
            <div class="form-grid">
                <div class="textarea-group">
                    <label for="recipes_text" class="textarea-label">
                        Ingredients List & URLs
                        <span>(Smart formatting enabled)</span>
                    </label>
                    <div class="format-tools">
                        <button type="button" class="format-btn" id="autoFormatBtn">
                            Auto Format
                        </button>
                        <button type="button" class="format-btn" id="clearBtn">
                            Clear
                        </button>
                        <button type="button" class="format-btn" id="addUrlBtn">
                            Add URL
                        </button>
                    </div>
                    <div class="smart-textarea-container">
                        <textarea id="recipes_text" name="recipes_text"
                            placeholder="Just paste your content here - It will be auto-formatted!&#10;&#10;You can paste:&#10;• URLs&#10;• Ingredients"
                            required class="ingredient-textarea"></textarea>
                        <div id="formatStatus" class="format-status"></div>
                    </div>
                </div>

                <div class="textarea-group">
                    <label for="have_at_home" class="textarea-label">Available at Home</label>
                    <textarea id="have_at_home" name="have_at_home"
                        placeholder="Items you already have...&#10;&#10;Example:&#10;potatis&#10;ris&#10;kyckling"
                        class="have-at-home-textarea"></textarea>
                </div>
            </div>

            <div class="submit-container">
                <button type="submit" class="submit-btn">Process Ingredients</button>
                <a href="/weekly" class="weekly-link">Weekly Plan</a>
            </div>
        </form>
    </div>
</div>

<div id="results-container" class="results-container"></div>
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', path='/js/ingredients.js') }}"></script>
{% endblock %}
